(()=>{"use strict";const e=()=>{const e=document.querySelector("#open-form-btn"),t=document.querySelector("#cancel-list-btn"),n=document.querySelector("#open-create-task-btn"),s=document.querySelector("#cancel-task-btn"),a=document.querySelector(".background-form-list"),i=document.querySelector(".background-form-task"),c=document.querySelector("#confirm-list-btn"),d=document.querySelector("#confirm-task-btn"),r=document.querySelector("#confirm-edit-btn");return{openListForm:e,cancelList:t,openTaskForm:n,cancelTask:s,backgroundList:a,backgroundTask:i,confirmListBtn:c,confirmTaskBtn:d,listName:()=>document.querySelector("#list-name-value").value,listContainer:document.querySelector(".lists"),lists:()=>document.querySelectorAll(".list"),taskTitle:()=>document.querySelector(".title-value").value,taskDate:()=>document.querySelector(".date-value").value,taskPriority:()=>document.querySelector(".priority-value").value,taskDescription:()=>document.querySelector("#task-description").value,taskContainer:document.querySelector(".tasks"),confirmEditBtn:r,editBtn:()=>document.querySelectorAll(".edit-btn"),deleteTaskBtn:()=>document.querySelectorAll(".delete-btn")}};let t=0,n=0;const s=()=>{const t=!!e().taskTitle(),n=!!e().taskDate(),s=!!e().taskPriority(),a=!!e().taskDescription();return!!(t&&n&&s&&a)};function a(){d(),o.forEach((t=>{const n=document.createElement("div"),s=document.createElement("span");n.classList.add("list"),s.classList.add("list-name"),s.innerText=t.getListName,e().listContainer.append(n),n.append(s)}))}function i(s){document.querySelectorAll(".task").forEach((e=>{e.remove()}));const a=o[s].tasks,c=e().taskContainer;a.forEach((e=>{const t=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),l=document.createElement("span"),u=document.createElement("span"),m=document.createElement("span"),k=document.createElement("div"),p=document.createElement("div"),L=document.createElement("span"),f=document.createElement("span"),v=document.createElement("a"),E=document.createElement("p");t.classList.add("task"),n.classList.add("details","task-informations","clearfix"),s.classList.add("actions","task-informations","clearfix"),a.classList.add("expand-description-btn","task-informations"),i.classList.add("description","task-informations","hidden"),d.classList.add("info-task","task-title"),r.classList.add("info-div","task-date"),o.classList.add("info-div","task-priority"),l.classList.add("title"),u.classList.add("date"),m.classList.add("priority"),k.classList.add("info-div","edit-task"),p.classList.add("info-div","delete-task"),L.classList.add("edit-btn"),f.classList.add("delete-btn"),v.classList.add("expand-btn"),E.classList.add("description-text"),l.innerText=e.task,u.innerText=e.date,m.innerText=e.priority,L.innerText="EDIT TASK",f.innerText="DELETE TASK",v.innerText="SEE DESCRIPTION",E.innerText=e.description,c.append(t),t.append(n),t.append(s),t.append(a),t.append(i),n.append(d),n.append(r),n.append(o),d.append(l),r.append(u),o.append(m),s.append(k),s.append(p),k.append(L),p.append(f),a.append(v),i.append(E)})),function(){const t=e().editBtn(),s=e().confirmEditBtn,a=e().confirmTaskBtn,i=e().backgroundTask;t.forEach(((e,t)=>{e.addEventListener("click",(()=>{i.classList.remove("hidden"),s.classList.remove("hidden"),a.classList.add("hidden"),n=t}))}))}(),function(){const e=document.querySelectorAll(".expand-btn"),t=document.querySelectorAll(".description");e.forEach(((e,n)=>{e.addEventListener("click",(()=>{t[n].classList.toggle("hidden"),console.log(e.className)}))}))}(),document.querySelectorAll(".delete-btn").forEach(((e,n)=>{e.addEventListener("click",(()=>{confirm("Do really want to delete this task?")&&(o[t].tasks.splice(n,1),console.log(o[t].tasks[n]),i(t))}))}))}function c(){document.querySelector(".date-value").value="",document.querySelector(".title-value").value="",document.querySelector(".priority-value").value="High",document.querySelector("#task-description").value=""}function d(){e().lists().forEach((e=>{e.remove()}))}function r(){e().lists().forEach(((e,n)=>{e.addEventListener("click",(()=>{t=n,i(t)}))}))}const o=[{getListName:"Default",tasks:[{task:"Study",date:"2023-01-10",priority:"High",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Cum asperiores perspiciatis magnam corrupti, placeat distinctio illum laudantium dolorem, facere, quae eos aperiam tenetur maiores libero officia qui. Architecto, fugiat magnam."}]},{getListName:"Secondary",tasks:[{task:"O romance",date:"2024-05-21",priority:"Low",description:"Ser ou não ser? o que será que serei? o que será o que eu vou ser?"}]}],l=(e().openListForm.addEventListener("click",(()=>{e().backgroundList.classList.remove("hidden")})),e().openTaskForm.addEventListener("click",(()=>{e().backgroundTask.classList.remove("hidden")})),e().cancelList.addEventListener("click",(()=>{e().backgroundList.classList.add("hidden")})),e().cancelTask.addEventListener("click",(()=>{e().confirmTaskBtn.classList.remove("hidden"),e().confirmEditBtn.classList.add("hidden"),e().backgroundTask.classList.add("hidden")})),e().confirmListBtn.addEventListener("click",(()=>{const t=!!e().listName(),n=e().listName();t&&(function(e){const t={getListName:e,tasks:[]};o.push(t)}(n),e().backgroundList.classList.add("hidden"),alert("List Created Successfully"),d(),a(),r())})),e().confirmTaskBtn.addEventListener("click",(()=>{const n=s(),a=e().taskTitle(),d=e().taskDate(),r=e().taskPriority(),l=e().taskDescription();n&&(function(e,n,s,a){const c=((e,t,n,s)=>{let a=e,i=t,c=n,d=s;return{get task(){return a},set task(e){a=e},get date(){return i},set date(e){i=e},get priority(){return c},set priority(e){c=e},get description(){return d},set description(e){d=e}}})(e,n,s,a);o[t].tasks.push(c),i(t)}(a,d,r,l),e().backgroundTask.classList.add("hidden"),alert("Task Created Successfully"),c())})),e().confirmEditBtn.addEventListener("click",(()=>{const a=s(),d=e().taskTitle(),r=e().taskDate(),l=e().taskPriority(),u=e().taskDescription();a&&(function(n,s,a,c,d){o[t].tasks[d].task=n,o[t].tasks[d].date=s,o[t].tasks[d].priority=a,o[t].tasks[d].description=c,i(t),function(){const t=e().confirmEditBtn,n=e().confirmTaskBtn;e().backgroundTask.classList.add("hidden"),t.classList.add("hidden"),n.classList.remove("hidden")}()}(d,r,l,u,n),alert("Task Edited Successfully"),c())})),void document.querySelector("#delete-list-btn").addEventListener("click",(()=>{let e=confirm("Do really want to delete this list?");o.length>0&&e&&(o.splice(t,1),t=0,a(),i(t))})));a(),i(t),r(),l()})();